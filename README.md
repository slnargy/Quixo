The algorithm works as follows : 

For the first round, a random cube and a random direction (using the random module).

After the first round, it looks for a cube already played (by checking the values that are not 'None' in the body) and plays the first one next to it that wasn't already played.
